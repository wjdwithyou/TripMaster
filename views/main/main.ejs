<!doctype html>
<html>
	<head>
		<meta charset = "utf-8">
		<title>Tripmaster</title>
		<link href =  "/stylesheets/main.css" rel = "stylesheet" type = "text/css"/>
		<link href =  "/stylesheets/spotsearch.css" rel = "stylesheet" type = "text/css"/>
		<script src = "/socket.io/socket.io.js"></script>
		<script src = "/js/jquery-2.1.4.min.js"></script>
		<script language = "javascript">
			var socket = io();
			
			function resize() {
				var container = document.getElementById('container');
				container.style.width = window.innerWidth - 200 + 'px';
			}
			
			function get_contents_html(dir) {
				socket.emit('RequestContentsHTML', {dir: dir});
			}
			
			socket.on('ReceiveContentsHTML', function (data){
				$("#contents").html(data);
			});
			
			var tab = '/contents/home.ejs';
			function change_contents(dir) {
				if (dir != tab) {
					get_contents_html(dir);
					tab = dir;
				}
			}
			
			window.onload = function() {
				resize();
				get_contents_html(tab);
				window.addEventListener('resize', resize);
			}
		</script>
	</head>
	<body>
		<div id = "container">
			<header>
				<img src = "/image/tripmaster logo.png"></img>
			</header>
			<nav>
				<ul>
					<li><a href = "javascript:change_contents('/contents/home.ejs')"><b>Home</b></a></li>
					<li><a href = "javascript:change_contents('/contents/spotsearch_header.ejs')"><b>Spot Search</b></a></li>
					<li><a href = "javascript:change_contents('/contents/community.ejs')"><b>Community</b></a></li>
					<li><a href = "javascript:change_contents('/contents/letstrip.ejs')"><b>Lets Trip</b></a></li>
				</ul>
			</nav>
			<section id = "contents">
				<!-- 이 내부에 html 이 들어온다. -->
			</section>
			<footer>
			</footer>
		</div>
		<aside id = "userbar">
			<!-- 이 내부에 html 이 들어온다. -->
		</aside>
		</div>
	</body>
</html>